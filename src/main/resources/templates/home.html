<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/common.css" />
	<link rel="stylesheet" href="css/home.css" />
	<title>R-Library: Home</title>
</head>

<body>
	<!--画面全体始め（ヘッダー、メイン、フッター）-->
	<div class="content_box">
		<!-- ヘッダー（header_btn_box のみ修正可能（ログイン前後の違い））-->
		<header>
			<div class="header_logo"> <a href="https://www.rakuten-sec.co.jp/"><img src="img/rakuten_logo.png"
						alt="Rakuten_sec_mark" class="main_logo"> </a></div>
			<div class="header_title"> 楽天図書館 </div>
			<div class="header_btn_box">
				<table class="header_table">
					<th>
					<td> <img src="img/alarm_icon.png" class="alert_icon"> </td>
					<td> <img src="img/user_img.png" alt="user_icon" class="user_icon"> </td>
					</th>
				</table>
			</div>
		</header>

		<div class="main">

			<div class="main_title">
				ーHOME
			</div>
			<!--　サイドバー -->
			<div class="overlay"></div>
			<nav class="nav">
				<div class="toggle">
					<span id="deleteconpo" class="toggler"></span>
				</div>
				<div class="logo">
					<a href="#"><img src="img/rakuten_logo.png"></a>
				</div>
				<br>
				<ul class="linkList">
					<li><a href="#">情報修正</a></li>
					<li><a href="#">貸出中</a></li>
					<li><a href="#">借出中</a></li>
					<li><a href="#">出品中</a></li>
					<li><a href="#">ログアウト</a></li>
				</ul>
			</nav>
			<!-- サイドバー終 -->

			<div class="search_box">
					<table class="search_table">
						<tr>
							<td colspan="2">
								<input type="text" id="book_name" class="input_box" placeholder="キーワードを入力">
							</td>
							<td>
								<button class="btn btn-danger" id="small_size">検索</button>
							</td>
						</tr>
					</table>
			</div>

			<div th:if="${bookshelf}">
				<div class="condition" th:if="${condition}">
					<lable>検索条件：</lable><span th:text="${condition}"></span>
				</div>
			</div>

			<div class="main_content_box">
				<div class="content" th:each="book: ${bookshelf}">
					<img src="/img/naruto_magazine.jpeg" class="book_img" id = "book_img">
						<form th:action="@{/confirm}" th:method="GET">
							<input type="hidden" name="title" th:value="${book.title}" />
        					<input type="hidden" name="content" th:value="${book.id}" />
        					<input type="hidden" name="category" th:value="${book.category}" />
        					<input type="hidden" name="image" th:value="${book.image}" />
        					<input type="hidden" name="limitdate" th:value="${book.limitdate}" />
							<button class="btn btn-danger" id="borrow_btn">借</button>
							<button class="btn btn-primary" id="take_btn"> 貰</button>
						</form>

					<p th:text="*{book.title}"></p><br>
					<p th:text="*{book.content}"></p><br>
				</div>

			</div>
		</div>
		<footer>
			問い合わせ先：rakuten_tarou@rakuten-sec.co.jp
		</footer>
	</div>
	<!--JavaScriptリンク-->
	<script type="text/javascript" th:src="@{/js/home.js}"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</body>

<script>
	
	const toggler = document.querySelector(".toggle");

	window.addEventListener("click", event => {
		if (event.target.className == "toggle" || event.target.className == "toggle") {
			document.body.classList.toggle("show-nav");
			document.getElementById("deleteconpo").classList.toggle("deleteclass")
		} else if (event.target.className == "overlay") {
			document.body.classList.remove("show-nav");
			document.getElementById("deleteconpo").classList.toggle("deleteclass")
		}

	});

	//ドロワーのメニューをクリックしたら非表示
	const hrefLink = document.querySelectorAll('.linkList li a');
	for (i = 0; i < hrefLink.length; i++) {
		hrefLink[i].addEventListener("click", () => {
			document.body.classList.remove("show-nav");
			document.getElementById("deleteconpo").classList.toggle("deleteclass")
		});
	}
</script>

</html>